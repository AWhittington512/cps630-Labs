<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order completed</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <div>
      <nav class="navbar navbar-expand-lg navbar-light p-2 bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html"
            ><img src="scs-logo.png" style="width: 80px"
          /></a>
          <button
            type="button"
            class="navbar-toggler"
            data-bs-toggle="collapse"
            data-bs-target="#navbarCollapse"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto">
              <a href="./index.html" class="nav-item nav-link ms-2">Home</a>
              <a href="./about.html" class="nav-item nav-link ms-2">About Us</a>
              <a href="#" class="nav-item nav-link ms-2">Reviews</a>
              <a href="#" class="nav-item nav-link ms-2">Services</a>
              <a
                class="btn btn-primary ms-2"
                data-bs-toggle="modal"
                href="#logInModal"
                role="button"
                >Log In</a
              >
              <a href="#" class="nav-item nav-link ms-2"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-bag-fill"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5z"
                  /></svg
              ></a>
            </div>
          </div>
        </div>
      </nav>

      <div
        class="modal fade"
        id="logInModal"
        aria-hidden="true"
        aria-labelledby="logInModalLabel"
        tabindex="-1"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5 lead">Log in to your account</h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body p-4">
              <form>
                <div class="mb-3">
                  <label for="email" class="form-label">Email address</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    name="password"
                    aria-describedby="emailHelp"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="password" class="form-label">Password</label>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    name="password"
                    required
                  />
                </div>
                <div class="mb-3 form-check">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="remember-me"
                  />
                  <label class="form-check-label" for="remember-me"
                    >Remember me</label
                  >
                </div>
                <button
                  type="submit"
                  class="btn btn-outline-success d-block m-auto my-2"
                >
                  Log In
                </button>
                <button
                  class="btn btn-outline-primary d-block m-auto my-2"
                  data-bs-target="#signUpModal"
                  data-bs-toggle="modal"
                >
                  Sign Up
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <div
        class="modal fade"
        id="signUpModal"
        aria-hidden="true"
        aria-labelledby="signUpModalLabel"
        tabindex="-1"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5 lead">Create an account</h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body p-4">
              <form>
                <div class="mb-3">
                  <label for="name" class="form-label">Name</label>
                  <input
                    type="name"
                    class="form-control"
                    id="name"
                    name="name"
                    aria-describedby="userName"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="email" class="form-label">Email address</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    name="email"
                    aria-describedby="emailHelp"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="password" class="form-label">Password</label>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    name="password"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="telephone" class="form-label">Phone</label>
                  <input
                    type="tel"
                    class="form-control"
                    id="telephone"
                    name="phone"
                    aria-describedby="phoneNumber"
                    pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="address" class="form-label">Address</label>
                  <input
                    type="text"
                    class="form-control"
                    id="address"
                    name="address"
                    aria-describedby="userAddress"
                  />
                </div>
                <button
                  type="submit"
                  class="btn btn-outline-primary d-block m-auto my-2"
                >
                  Sign Up
                </button>
                <div class="form-text text-center">
                  Already have an account?
                  <a
                    class="link-primary"
                    href="logInModal"
                    data-bs-target="#logInModal"
                    data-bs-toggle="modal"
                    >Log In</a
                  >
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container text-center">
      <div class="row align-items-center">
        <h2>Hi name, order #number has been received!</h2>
        <h3>You can view your invoice <a href="invoice.html#number">here</a></h3>
        <p>Truck #number has been assigned to your order.</p>
      </div>
      <div id="map-canvas" class="row"></div>
      <div class="row justify-content-center">
        <a href="index.html" class="btn btn-outline-primary w-auto">Back</a>
      </div>
    </div>
  </body>
</html>

<style>
  * {
    margin: 0;
    padding: 0;
  }
  #map-canvas {
    height: 300px;
    width: 300px;
    margin: 2em auto;
    box-shadow: rgba(0, 0, 0, 0.15) 0px 5px 15px 0px;
    border-radius: 1em;
  }
  button,
  input[type="submit"] {
    transition: all 200ms ease;
    font-family: sans-serif;
    background-color: white;
    color: black;
    border: 1px solid;
    padding: 1em;
    cursor: pointer;
    border-radius: 0.5em;
  }
  h1,
  h2,
  h3 {
    font-weight: 300;
  }
  button:hover,
  input[type="submit"]:hover {
    background-color: #4285f4;
  }
</style>

<script>
  var resultMarker, geocoder, map, pointA, pointB, lat, lng;

  function initMap() {
    pointA = { lat: 43.65800227880846, lng: -79.37824216664713 };
    pointB = { lat: 43.652817020875794, lng: -79.38178268258154 };
    (myOptions = {
      zoom: 7,
      center: pointB,
    }),
      (map = new google.maps.Map(
        document.getElementById("map-canvas"),
        myOptions
      )),
      // Instantiate a directions service.
      (directionsService = new google.maps.DirectionsService()),
      (directionsDisplay = new google.maps.DirectionsRenderer({
        map: map,
      }));

    // get route from A to B
    calculateAndDisplayRoute(
      directionsService,
      directionsDisplay,
      pointA,
      pointB
    );
  }

  function calculateAndDisplayRoute(
    directionsService,
    directionsDisplay,
    pointA,
    pointB
  ) {

    directionsService.route(
      {
        origin: pointA,
        destination: pointB,
        avoidTolls: true,
        avoidHighways: false,
        travelMode: google.maps.TravelMode.DRIVING,
      },
      function (response, status) {
        if (status == google.maps.DirectionsStatus.OK) {
          directionsDisplay.setDirections(response);
        } else {
          window.alert("Directions request failed due to " + status);
        }
      }
    );
  }

  function codeAddress(coords) {
    geocoder.geocode({ address: coords }, function (results, status) {
      if (status == "OK") {
        map.setCenter(results[0].geometry.location);
        if (!resultMarker) {
          resultMarker = new google.maps.Marker({
            map: map,
            position: results[0].geometry.location,
          });

          var resultInfo = new google.maps.InfoWindow({
            content: "<h3>Geocoding Search Result</h3><p>" + coords + "</p>",
          });
          resultMarker.addListener("click", () => {
            resultInfo.open(map, resultMarker);
          });
          resultInfo.open(map, resultMarker);
        } else {
          // Move marker
          resultMarker.setPosition(results[0].geometry.location);
        }
      } else {
        alert("Geocode was not successful for the following reason: " + status);
      }
    });
  }

  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(getCoords);
    } else {
      alert("Geolocation is not supported by this browser");
    }
  }

  function getCoords(position) {
    address = position.coords.latitude + ", " + position.coords.longitude;
    codeAddress(address);
  }
</script>
<script
  async
  defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJxUi5ZgzqycwNyxR4W7JjPTqmT935IEE&callback=initMap"
></script>
