<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCS</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ›’</text></svg>">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgEhxoik76va_nhG6KsA4DTa5JBr_Iz0I&callback=initMap"></script>
</head>
<body>
       <nav class="navbar navbar-expand-lg navbar-light p-2 bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><img src="scs-logo.png" style="width: 80px"></a>
            <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ms-auto">
                    <a href="#" class="nav-item nav-link ms-2">Home</a>
                    <a href="#" class="nav-item nav-link ms-2">About Us</a>
                    <a href="#" class="nav-item nav-link ms-2">Contact Us</a>
                    <a href="#" class="nav-item nav-link ms-2">Reviews</a>
                    <a href="#" class="nav-item nav-link ms-2">Services</a>
                    <a class="btn btn-primary ms-2" data-bs-toggle="modal" href="#logInModal" role="button">Log In</a>
                    <a href="#" class="nav-item nav-link ms-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bag-fill" viewBox="0 0 16 16"><path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5z"/></svg></a>
                </div>
            </div>
        </div>
    </nav>

    <div class="modal fade" id="logInModal" aria-hidden="true" aria-labelledby="logInModalLabel" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5 lead">Log in to your account</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-4">
                <form action="signup.php" method="POST" novalidate>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email address</label>
                        <input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp" required>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="remember-me">
                        <label class="form-check-label" for="remember-me">Remember me</label>
                    </div>
                        <button type="submit" class="btn btn-outline-success d-block m-auto my-2">Log In</button>
                        <button class="btn btn-outline-primary d-block m-auto my-2" data-bs-target="#signUpModal" data-bs-toggle="modal">Sign Up</button>
                </form>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="signUpModal" aria-hidden="true" aria-labelledby="signUpModalLabel" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5 lead">Create an account</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-4">
                <form action="signup.php" method="POST" novalidate>
                    <div class="mb-3">
                        <label for="name" class="form-label">Name</label>
                        <input type="name" class="form-control" id="name" name="name" aria-describedby="userName" required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email address</label>
                        <input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp" required>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Repeat Password</label>
                        <input type="password" class="form-control" id="password_confirmation" name="password_confirmation" required>
                    </div>
                    <div class="mb-3">
                        <label for="telephone" class="form-label">Phone</label>
                        <input type="tel" class="form-control" id="telephone" name="phone" aria-describedby="phoneNumber">
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Address</label>
                        <input type="text" class="form-control" id="address" name="address" aria-describedby="userAddress">
                    </div>
                    <button type="submit" class="btn btn-outline-primary d-block m-auto my-2">Sign Up</button>
                    <div class="form-text text-center">
                        Already have an account?
                        <a class="link-primary" href="logInModal" data-bs-target="#logInModal" data-bs-toggle="modal">Log In</a>
                    </div>
                </form>
            </div>
          </div>
        </div>
      </div>

      <div class="row justify-content-center text-center border p-3">
        <h1>Hello</h1>
        <a href="items.php" class="btn btn-outline-primary w-auto">Shop All</a>
      </div>
      <div class="row justify-content-center text-center">
        <div class="col border p-3">
            <h2>Tops</h2>
            <a href="#" class="btn btn-outline-primary w-auto">Shop Now</a>
        </div>
        <div class="col border p-3">
            <h2>Bottoms</h2>
            <a href="#" class="btn btn-outline-primary w-auto">Shop Now</a>
        </div>
      </div>
</body>

<script>
    async function codeAddress(apiUrl) {
        fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            console.log(data)
            var city = data.address.city
            var postal = data.address.postcode
            findStores(city, postal)
        })
        .catch(error => {
            document.getElementById('postalCode').innerHTML = "Location not found"
        });
    }

    function findStores(city, postcode) {
        document.getElementById('postalCode').innerHTML = postcode
        switch(city) {
            case 'Toronto':
                document.getElementById('storeLocation').innerHTML = "Queen St W, Toronto"
                break
            case 'Markham': 
                document.getElementById('storeLocation').innerHTML = "CF Markville, Markham"
                break
            case 'Mississauga': 
                document.getElementById('storeLocation').innerHTML = "Square One Shopping Centre, Mississauga"
            default:
                document.getElementById('storeLocation').innerHTML = "No store selected"
        }
    }

    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(getCoords);
        }
        else {
            alert("Geolocation is not supported by this browser");
        }
    }

    function getCoords(position) {
        var address = position.coords.latitude + ',' + position.coords.longitude;
        var apiUrl = `https://geocode.maps.co/reverse?lat=${position.coords.latitude}&lon=${position.coords.longitude}`
        codeAddress(apiUrl);
    }
    
    function selectStore() {
        const selectButtons = document.querySelectorAll('.store');

        selectButtons.forEach(button => {
        button.addEventListener('click', () => {
            const storeName = button.closest('.store').querySelector('.store-name').textContent;
            
            document.getElementById('storeLocation').innerHTML = storeName;
        });
        });
    }
</script>

</html>
